<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Phaser</title>
    <style>
        html,body { margin:0; overflow:hidden;}
        canvas { border-radius: 150px; }
    </style>
    <script>
    function init() {
        W = H = 300;
        R = 60;
        X1 = 0 + R;
        X2 = W - R;
        Y1 = Y2 = H/2;  

        var game = new Phaser.Game(W, H, Phaser.AUTO, 'phaser-canvas', {create:create});

        function create() {
            game.stage.backgroundColor = 0x222222;

            let container = game.add.group();
            

            let circle = game.add.graphics(0,0)
                .beginFill(0x99bb22, 1)
                .drawCircle(R, H/2, 2 * R);

            let slidingTween = game.add.tween(circle)
                                .to({ x: W - 2 * R }, 2000, Phaser.Easing.Sinusoidal.InOut)
                                .yoyo(true)
                                //.repeat(-1)
                                .start();

            //slidingTween.onComplete.add(() => slidingTween.start());

            container.addChild(circle);

            let rotatingTween = game.add.tween(container)
                                .from({ rotation: 0 })
                                .to({ rotation: Math.PI * 2 }, 500)
                                .repeat(1)
                                .start();

            rotatingTween.onComplete.add(() => rotatingTween.start());
        }
    }
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/phaser/2.6.2/phaser.min.js"></script>

</head>
<body onload="init();"><div id="phaser-canvas"></div></body>
</html>
